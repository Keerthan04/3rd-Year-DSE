#include<stdio.h>
#include<omp.h>
#define SIZE 10

void compute_sum(int *arr,int size,int *even_num,int *odd_num){
        #pragma omp parallel sections
        {
                #pragma omp section
                {
                        *even_num = 0;
                        for(int i =0;i<size;i++){
                                if(arr[i]%2 == 0){
                                        #pragma omp atomic
                                        *even_num+=arr[i];
                                }
                        }
                }

                #pragma omp section
                {
                        *odd_num = 0;
                        for(int i =0;i<size;i++){
                                if(arr[i]%2 == 1){
                                        #pragma omp atomic
                                        *odd_num+=arr[i];
                                }
                        }
                }
        }
}
int main(){
        int arr[SIZE] = {1,2,3,4,5,6,7,8,9,10};
        int even_sum = 0,odd_sum=0;
        omp_set_num_threads(2);
        compute_sum(arr,SIZE,&even_sum,&odd_sum);
        printf("The even sum is: %d \n",even_sum);
        printf("The odd sum is: %d \n",odd_sum);
        return 0;
}